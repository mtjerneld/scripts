/* CSS Variables - Professional Email Security Palette */
:root {
  color-scheme: light;
  
  /* Brand */
  --pri-800:#0B3A5B; --pri-700:#11527F; --pri-600:#1670B0; --pri-500:#1C86D1;
  --pri-100:#D6E9F7; --pri-50:#F2F8FD;

  /* Neutrals */
  --ink:#0F1720; --n900:#1C2430; --n800:#2A3442; --n700:#3B4757; --n600:#5A6676;
  --n500:#7F8A98; --n400:#AAB3BD; --n300:#D3D9E0; --n200:#E7ECF1; --n100:#F5F7FA; --white:#FFFFFF;

  /* Status */
  --ok:#156A3A;       --ok-50:#E5F5EC;
  --warn:#8A6A00;     --warn-50:#FFF7DA;
  --err:#8F1D1D;      --err-50:#FDEAEA;
  --info:#0F766E;     --info-50:#E0F2F1;

  /* Semantic surfaces */
  --bg: var(--n100);
  --surface: var(--white);
  --surface-muted: var(--n200);
  --text: var(--ink);
  --text-muted: var(--n600);
  --border: var(--n300);
  --link: var(--pri-600);
  --link-hover: var(--pri-700);

  /* Focus ring */
  --focus: #66A9E8;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(16,24,40,.06);
  --shadow-md: 0 4px 12px rgba(16,24,40,.10);

  /* Radii & spacing */
  --radius: 12px;
  --radius-sm: 8px;
  --space-1: .5rem; --space-2: .75rem; --space-3: 1rem; --space-4: 1.25rem; --space-6: 1.75rem;

  /* Typography */
  --font-sans: ui-sans-serif, 'Inter', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-mono: ui-monospace, 'SFMono-Regular', 'Menlo', Monaco, 'Consolas', 'Liberation Mono', 'Courier New', monospace;
}

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --bg:#0A0F16;
    --surface:#1A1F2E;
    --surface-muted:#252A3A;
    --text:#E9EEF5;
    --text-muted:#A6B1BF;
    --border:#2D3748;
    --link:#59B4FF;
    --link-hover:#86CBFF;

    /* Status on dark - brighter for better contrast */
    --ok:#5EE3A0;   --ok-50:#0E2A1C;
    --warn:#FFD875; --warn-50:#2A2110;
    --err:#FF8888;  --err-50:#2A0E0E;
    --info:#7AD6CF; --info-50:#0E2221;

    --shadow-sm: 0 1px 2px rgba(0,0,0,.35);
    --shadow-md: 0 8px 24px rgba(0,0,0,.45);
  }
}

/* Global styles */
* { box-sizing: border-box; }

body { 
    font-family: var(--font-sans);
    margin: 0;
    padding: 20px;
    background-color: var(--bg);
    color: var(--text);
    line-height: 1.6;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    background-color: var(--surface);
    padding: var(--space-6);
    border-radius: var(--radius);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border);
}

h1 { 
    color: var(--text);
    border-bottom: 3px solid var(--pri-600);
    padding-bottom: var(--space-2);
    margin: 0 0 var(--space-4) 0;
    font-weight: 700;
}

h2 { 
    border-bottom: 1px solid var(--border);
    padding-bottom: var(--space-2);
    margin-top: var(--space-6);
    color: var(--text);
    font-weight: 600;
}

h3 {
    color: var(--text);
    margin-top: var(--space-4);
    font-weight: 600;
}

/* Navigation */
.nav-link::before {
    content: '← ';
}

.nav-link {
    display: inline-block;
    margin: var(--space-2) 0;
    padding: .6rem 1rem;
    background-color: var(--pri-600);
    color: white;
    text-decoration: none;
    border-radius: var(--radius-sm);
    transition: background-color 0.2s, box-shadow 0.2s;
    font-weight: 600;
}

.nav-link:hover {
    background-color: var(--pri-700);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
}

.footer a.back-link::before {
    content: '← ';
}

/* Summary statistics */
.summary-stats {
    background: linear-gradient(135deg, var(--pri-600) 0%, var(--pri-800) 100%);
    color: white;
    padding: var(--space-4);
    border-radius: var(--radius);
    margin-bottom: var(--space-6);
    box-shadow: var(--shadow-md);
}

.summary-stats h2 {
    color: white;
    border-bottom: none;
    margin-top: 0;
    margin-bottom: var(--space-3);
}

.summary-stats .flex-between {
    border-bottom: 2px solid rgba(255,255,255,0.3);
    padding-bottom: var(--space-2);
    margin-bottom: var(--space-3);
}

.summary-stats .flex-between h2 {
    margin-bottom: 0;
}

.summary-stats p {
    margin: var(--space-2) 0;
    font-size: 16px;
    opacity: 0.95;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-3);
    margin-top: var(--space-3);
}

.stat-card {
    background-color: rgba(255,255,255,0.15);
    padding: var(--space-3);
    border-radius: var(--radius-sm);
    text-align: center;
    backdrop-filter: blur(10px);
}

.stat-number {
    font-size: 32px;
    font-weight: 700;
    margin: var(--space-2) 0;
}

/* Table styles */
table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: var(--space-4);
    background-color: var(--surface);
    box-shadow: var(--shadow-sm);
    border-radius: var(--radius-sm);
    overflow: hidden;
}

th, td {
    border: 1px solid var(--border);
    padding: var(--space-2) var(--space-3);
    text-align: left;
}

th {
    background-color: var(--surface-muted);
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
    color: var(--text);
}

@media (prefers-color-scheme: dark) {
  tr:hover {
    background-color: var(--n800);
  }
}

@media (prefers-color-scheme: light) {
  tr:hover {
    background-color: var(--n100);
  }
}

td.domain {
    font-weight: 600;
    font-family: var(--font-mono);
    color: var(--pri-700);
}

/* Status badges */
.status-badge {
    display: inline-flex;
    align-items: center;
    gap: .4rem;
    padding: .2rem .5rem;
    border-radius: 999px;
    font-size: .825rem;
    font-weight: 600;
}

/* Status cells (for Status column with background) */
td.status-ok::before {
    content: '✅ ';
}

td.status-ok {
    background: var(--ok-50);
    color: var(--ok);
}

td.status-fail::before {
    content: '❌ ';
}

td.status-fail {
    background: var(--err-50);
    color: var(--err);
}

td.status-warn::before {
    content: '⚠️ ';
}

td.status-warn {
    background: var(--warn-50);
    color: var(--warn);
}

td.status-info::before {
    content: 'ℹ️ ';
}

td.status-info {
    background: var(--info-50);
    color: var(--info);
}

/* Status badges (for individual check columns without background) */
span.status-ok::before {
    content: '✅';
    margin-right: 0.25em;
}

span.status-ok {
    color: var(--ok);
}

span.status-fail::before {
    content: '❌';
    margin-right: 0.25em;
}

span.status-fail {
    color: var(--err);
}

span.status-warn::before {
    content: '⚠️';
    margin-right: 0.25em;
}

span.status-warn {
    color: var(--warn);
}

span.status-info::before {
    content: 'ℹ️';
    margin-right: 0.25em;
}

span.status-info {
    color: var(--info);
}

/* Info blocks */
.info-block {
    margin: var(--space-3) 0;
    padding: var(--space-3);
    border-left: 4px solid var(--info);
    background-color: var(--info-50);
    border-radius: var(--radius-sm);
}

.info-block p {
    margin: var(--space-1) 0;
    color: var(--text);
    background: none !important;
    padding: 0;
}

.info-block p.status-info::before {
    content: 'ℹ️ ';
}

.info-block p.status-warn::before {
    content: '⚠️ ';
}

.info-block p.status-fail::before {
    content: '❌ ';
}

.info-block .status-info { color: var(--info); }
.info-block .status-warn { color: var(--warn); }
.info-block .status-fail { color: var(--err); }

/* Issue box */
.issues-box {
    background-color: var(--warn-50);
    border-left: 4px solid var(--warn);
    padding: var(--space-3) var(--space-4);
    margin: var(--space-4) 0;
    border-radius: var(--radius-sm);
}

.issues-box h3 {
    margin-top: 0;
    color: var(--warn);
}

.issues-box ul {
    margin: var(--space-2) 0;
    color: var(--text);
}

/* Issue box - failure variant */
.issues-box-fail {
    background-color: var(--err-50);
    border-left: 4px solid var(--err);
    padding: var(--space-3) var(--space-4);
    margin: var(--space-4) 0;
    border-radius: var(--radius-sm);
}

.issues-box-fail h3 {
    margin-top: 0;
    color: var(--err);
}

.issues-box-fail ul {
    margin: var(--space-2) 0;
    color: var(--text);
}

/* Check summary section */
.check-summary {
    background-color: var(--surface);
    padding: var(--space-4);
    border-radius: var(--radius-sm);
    margin-top: var(--space-4);
    border: 1px solid var(--border);
}

/* Section styles */
.section {
    margin: var(--space-6) 0;
    padding: var(--space-4);
    background-color: var(--surface-muted);
    border-radius: var(--radius-sm);
}

pre {
    background-color: var(--surface-muted);
    padding: var(--space-3);
    border-radius: var(--radius-sm);
    overflow-x: auto;
    font-family: var(--font-mono);
    font-size: 13px;
    border: 1px solid var(--border);
    color: var(--text);
}

/* Footer */
.footer {
    margin-top: var(--space-6);
    padding-top: var(--space-4);
    border-top: 1px solid var(--border);
    text-align: center;
    color: var(--text-muted);
    font-size: 13px;
}

/* Links */
a {
    color: var(--link);
    text-decoration: none;
    transition: color 0.2s;
}

a:hover {
    color: var(--link-hover);
    text-decoration: underline;
}

:focus-visible {
    outline: 3px solid var(--focus);
    outline-offset: 2px;
    border-radius: 6px;
}

/* Action buttons (download + analysis) */
.action-buttons {
    margin: var(--space-4) 0;
    padding: var(--space-3) var(--space-4);
    background-color: var(--surface-muted);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border);
    display: flex;
    gap: var(--space-3);
    align-items: center;
    flex-wrap: wrap;
}

.btn-download {
    display: inline-block;
    padding: .6rem 1rem;
    background-color: var(--surface);
    color: var(--pri-600);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s;
}

.btn-download:hover {
    background-color: var(--surface-muted);
    border-color: var(--pri-600);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
}

.btn-primary {
    display: inline-block;
    padding: .6rem 1rem;
    background-color: var(--pri-600);
    color: white;
    border: 1px solid var(--pri-600);
    border-radius: var(--radius-sm);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s;
}

.btn-primary:hover {
    background-color: var(--pri-700);
    border-color: var(--pri-700);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
}

.action-buttons .btn-download:nth-of-type(1):not(.btn-activity-plan)::before {
    content: '📊 ';
}

.action-buttons .btn-download:nth-of-type(2):not(.btn-activity-plan)::before {
    content: '📄 ';
}

.action-buttons .btn-activity-plan::before {
    content: '📋 ';
}

.action-buttons .btn-primary::before {
    content: '🔍 ';
}

/* Metadata */
.metadata {
    color: var(--text-muted);
    font-size: 14px;
    margin: var(--space-2) 0;
}

/* Success box (all checks passed) */
.success-box {
    background-color: var(--ok-50);
    border-left: 4px solid var(--ok);
    padding: var(--space-3) var(--space-4);
    margin: var(--space-4) 0;
    border-radius: var(--radius-sm);
}

.success-box h3::before {
    content: '✅ ';
}

.success-box h3 {
    color: var(--ok);
    margin-top: 0;
}

.success-box p {
    color: var(--text);
    margin-bottom: 0;
}

/* Table column widths - domain report summary table */
.summary-table th.col-check { width: 200px; }
.summary-table th.col-status { width: 120px; }

/* Table column widths - index page table */
.index-table th.col-domain { width: 200px; }
.index-table th.col-mx { width: 200px; }
.index-table th.col-status { width: 90px; }
.index-table th.col-spf { width: 70px; }
.index-table th.col-dkim { width: 70px; }
.index-table th.col-dmarc { width: 90px; }
.index-table th.col-mta-sts { width: 90px; }
.index-table th.col-tls-rpt { width: 90px; }

/* Table cell sizes */
.td-small {
    font-size: 12px;
}

.td-center {
    text-align: center;
}

/* Summary table detail cells with warning/error */
.td-detail-warn::before {
    content: '⚠️ ';
}

.td-detail-warn {
    font-size: 12px;
    font-weight: 600;
    color: var(--warn);
}

.td-detail-error::before {
    content: '❌ ';
}

.td-detail-error {
    font-size: 12px;
    font-weight: 600;
    color: var(--err);
}

/* Text color utilities */
.text-success::before {
    content: '✅ ';
}

.text-success {
    color: var(--ok);
}

.text-warning::before {
    content: '⚠️ ';
}

.text-warning {
    color: var(--warn);
    font-weight: 600;
}

.text-error::before {
    content: '❌ ';
}

.text-error {
    color: var(--err);
    font-weight: 600;
}

.text-muted {
    color: var(--text-muted);
}

.text-muted-light {
    color: var(--text-muted);
}

/* Check summary paragraphs */
.check-summary p {
    font-size: 14px;
    color: var(--text-muted);
}

.check-summary p:last-child {
    margin-bottom: 0;
}

.check-summary h3 {
    margin-top: 0;
}

/* Flexbox utilities */
.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
}

.flex-between h2 {
    margin: 0;
}

.flex-center {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Button */
.btn {
    display: inline-block;
    padding: 8px 12px;
    background-color: var(--pri-600);
    color: white;
    text-decoration: none;
    border-radius: var(--radius-sm);
    font-weight: 600;
    transition: background-color 0.2s, box-shadow 0.2s;
}

.btn:hover {
    background-color: var(--pri-700);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
}

/* Stat card subtitle */
.stat-subtitle {
    font-size: 12px;
    margin-top: 5px;
}

/* Stat card titles with icons */
.stat-card .stat-title-pass::before {
    content: '✅ ';
}

.stat-card .stat-title-warn::before {
    content: '⚠️ ';
}

.stat-card .stat-title-fail::before {
    content: '❌ ';
}

/* Legend colors (footer) */
.legend-pass::before {
    content: '✅ ';
}

.legend-pass { color: var(--ok); }

.legend-warn::before {
    content: '⚠️ ';
}

.legend-warn { color: var(--warn); }

.legend-fail::before {
    content: '❌ ';
}

.legend-fail { color: var(--err); }

.legend-info::before {
    content: 'ℹ️ ';
}

.legend-info { color: var(--info); }

